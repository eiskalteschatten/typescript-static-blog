<aside class="sidebar d-flex flex-column gap-5">
  <% if (typeof categories !== 'undefined') { %>
    <nav class="categories">
      <h4 class="sidebar-title">Categories</h4>
      <ul>
        <% for (const category of categories) { %>
          <li>
            <a href="/category/<%= category.id %>/">
              <%= category.name %>
            </a>
          </li>
        <% } %>
      </ul>
    </nav>
  <% } %>

  <% if (typeof tags !== 'undefined') { %>
    <nav class="tags">
      <h4 class="sidebar-title">Tags</h4>
      <div>
        <%
          var tagCounts = tags.map(tag => tag.count);
          var max = Math.max(...tagCounts);
          var min = Math.min(...tagCounts);
          var fontMin = 8;
          var fontMax = 22;
          var fontStep = (fontMax - fontMin) / (max - min);
        %>

        <% for (const tag of tags) { %>
          <% var fontSize = fontMin + (tag.count - min) * fontStep; %>
          <a href="/tag/<%= tag.slug %>/" class="d-inline-block ms-2" style="font-size: <%= fontSize %>pt;">
            <%= tag.name %>
          </a>
        <% } %>
      </div>
    </nav>
  <% } %>
</aside>
